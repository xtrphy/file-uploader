<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/reset.css">
    <link rel="stylesheet" href="/header.css">
    <link rel="stylesheet" href="/footer.css">
    <link rel="stylesheet" href="/index.css">
    <link rel="stylesheet" href="/folderPage.css">
    <link rel="stylesheet" href="/file.css">
    <link rel="stylesheet" href="/folder.css">
    <link rel="stylesheet" href="/modal.css">
    <title>
        <%= folder.name %>
    </title>
</head>

<body>
    <div class="window">
        <%- include('partials/header') %>
            <main>
                <h1 class="folder-name-title">
                    <%= folder.name %>
                </h1>

                <div class="storage">
                    <% folder.subfolders.forEach(subfolder=> { %>
                        <%- include('partials/subfolder', { subfolder: subfolder }) %>
                            <% }); %>
                                <% folder.files.forEach(file=> { %>
                                    <%- include('partials/file', { file: file }) %>
                                        <% }); %>
                </div>

                <div class="modal" id="folderModal">
                    <div class="modal-content">
                        <button class="close-btn">&times;</button>
                        <form action="/create-folder" method="POST">
                            <input type="text" name="name" placeholder="Folder name" required />
                            <input type="hidden" name="parentId" value="<%= folder.id %>">
                            <button class="create-folder-btn" type="submit">Create</button>
                        </form>
                    </div>
                </div>
            </main>
            <%- include('partials/footer') %>
    </div>

    <script src="/js/index.js"></script>
    <script src="https://kit.fontawesome.com/3130acdd01.js" crossorigin="anonymous"></script>
</body>

</html>